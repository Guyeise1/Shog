@model IEnumerable<Gosh.Models.Recipe>

@{
    ViewBag.Title = "Index";
}
<link href="~/Content/category.css" rel="stylesheet" type="text/css" />
<link href="~/Content/recipes.css" rel="stylesheet" type="text/css" />


@using (Html.BeginForm("Index", "Recipes", FormMethod.Get, new { @class = "searchContainer" }))
    {
        <div class="header">Name:</div>
        @Html.TextArea("Header", new { @class = "searchByName", @placeholder = "Search Recipe..." })
        <span class="space"></span>
        <div class="header">Created After:</div>
        <input type="date" name="created_after" class="searchByName" value=""/>
        <span class="space"></span>
        <div class="header">Category:</div>
        if (ViewBag.categoryId != null)
        {
            @Html.DropDownList("categoryId", null, "Select Category...", htmlAttributes: new { @class = "searchByName", @value = "" })
        }
        <input type="submit" value="Search" class="searchByNameButton" />
    }

@if (Session["Username"] != null && Session["Username"].ToString() == "ADMIN")
{
    <div class="row createNew">
        @Html.ActionLink("Create New", "Create", null, htmlAttributes: new { @class = "createNewButton" })
    </div>
}

<br />




<div class="categoryContainer">
    @if (Model.Count() == 0)
    {
            <p style="color:red">
                No Match Any Document
            </p>
    }
    else
    {
<ul>
    @foreach (var item in Model)
    {
    <a href="Recipes/Details/@item.RecipeId">
        <li class="gallery">
                <img class="img rounded" src="~/images/@item.HomeImageUrl" alt="@item.Header" />
                <div class="desc">
                    
                    @item.Header
                </div>
                <div class="buttons">
                    @if (Session["Username"] != null && Session["Username"].ToString() == "ADMIN")
                    {
                        @Html.ActionLink("Edit", "Edit", new { id = item.RecipeId }, htmlAttributes: new { @class = "action" })
                        @Html.ActionLink("Delete", "Delete", new { id = item.RecipeId }, htmlAttributes: new { @class = "action" })
                    }
                </div>
        </li>
    </a>
    }
</ul>

    }
</div>


<style>
    li.gallery {
        margin: 5px;
        border: 1px solid #ccc;
        float: left;
        width: 180px;
        height: 300px;
        padding-bottom: 50px;

    }

        li.gallery:hover {
            border: 1px solid #777;
        }

        li.gallery img {
            margin-top: 15%;
            width:100%;
        }
    ul {
        width: 50%;
        margin: auto;
        list-style-type: none;
    }
    a {
        color: black;
    }
    a:hover {
        text-decoration: none;
        color: black;
    }
    div.desc {
        padding: 15px;
        text-align: center;
        font-size: 15px;
    }
    .buttons {
        margin:auto;
        width: 50%;
    }
</style>
